local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Save starting values
local startStats = {}
local startTime = os.time()

-- Create GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CurrentStatsGUI"
screenGui.Parent = player.PlayerGui

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 200)
mainFrame.Position = UDim2.new(0, 10, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(128, 4, 4)
mainFrame.Parent = screenGui
mainFrame.Active = true
mainFrame.Draggable = true

-- Title
local title = Instance.new("TextLabel")
title.Text = "ðŸ’ª STATS TRACKER"
title.Size = UDim2.new(1, 0, 0, 25)
title.Position = UDim2.new(0, 0, 0, 0)
title.BackgroundColor3 = Color3.fromRGB(128, 4, 4)
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextScaled = true
title.Font = Enum.Font.GothamBold
title.Parent = mainFrame

-- Container for stat labels
local statsContainer = Instance.new("Frame")
statsContainer.Size = UDim2.new(1, -10, 1, -50)
statsContainer.Position = UDim2.new(0, 5, 0, 25)
statsContainer.BackgroundTransparency = 1
statsContainer.Parent = mainFrame

-- Number abbreviation function
local function abbreviateNumber(num)
    if not num then return "0" end
    local suffixes = {"", "K", "M", "B", "T", "Qa"}
    local absNum = math.abs(num)
    if absNum < 1000 then
        return tostring(math.floor(num))
    end
    local tier = math.floor((math.log(absNum) / math.log(10)) / 3)
    if tier > #suffixes then
        tier = #suffixes
    end
    local suffix = suffixes[tier + 1]
    local scale = 10 ^ (tier * 3)
    local short = num / scale
    return string.format("%.2f%s", short, suffix)
end

-- Get stat value
local function getStatValue(statName)
    if player:FindFirstChild("leaderstats") then
        local stat = player.leaderstats:FindFirstChild(statName)
        if stat and typeof(stat.Value) == "number" then
            return stat.Value
        end
    end
    
    if player:FindFirstChild(statName) and typeof(player[statName].Value) == "number" then
        return player[statName].Value
    end
    
    return 0
end

-- Set starting values
local function initializeStartStats()
    local statsToTrack = {"Strength", "Durability", "Rebirths"}
    for _, statName in ipairs(statsToTrack) do
        startStats[statName] = getStatValue(statName)
        print("Start " .. statName .. ": " .. tostring(startStats[statName]))
    end
    startTime = os.time()
end

-- Only show these 3 stats
local importantStats = {"Strength", "Durability", "Rebirths"}

-- Create stat labels
local statLabels = {}
local yPosition = 0

for i, statName in ipairs(importantStats) do
    local statFrame = Instance.new("Frame")
    statFrame.Size = UDim2.new(1, 0, 0, 45)
    statFrame.Position = UDim2.new(0, 0, 0, yPosition)
    statFrame.BackgroundTransparency = 1
    statFrame.Parent = statsContainer
    
    local iconLabel = Instance.new("TextLabel")
    iconLabel.Size = UDim2.new(0, 30, 0, 20)
    iconLabel.Position = UDim2.new(0, 0, 0, 0)
    iconLabel.BackgroundTransparency = 1
    iconLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    iconLabel.TextXAlignment = Enum.TextXAlignment.Left
    iconLabel.Font = Enum.Font.Gotham
    iconLabel.TextSize = 14
    iconLabel.Text = "ðŸ’ª"
    iconLabel.Parent = statFrame
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, -30, 0, 20)
    nameLabel.Position = UDim2.new(0, 30, 0, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextXAlignment = Enum.TextXAlignment.Left
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextSize = 14
    nameLabel.Text = statName
    nameLabel.Parent = statFrame
    
    local currentLabel = Instance.new("TextLabel")
    currentLabel.Size = UDim2.new(0.5, -5, 0, 20)
    currentLabel.Position = UDim2.new(0, 0, 0, 20)
    currentLabel.BackgroundTransparency = 1
    currentLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    currentLabel.TextXAlignment = Enum.TextXAlignment.Left
    currentLabel.Font = Enum.Font.Gotham
    currentLabel.TextSize = 12
    currentLabel.Text = "Current: 0"
    currentLabel.Parent = statFrame
    
    local gainedLabel = Instance.new("TextLabel")
    gainedLabel.Size = UDim2.new(0.5, -5, 0, 20)
    gainedLabel.Position = UDim2.new(0.5, 5, 0, 20)
    gainedLabel.BackgroundTransparency = 1
    gainedLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    gainedLabel.TextXAlignment = Enum.TextXAlignment.Left
    gainedLabel.Font = Enum.Font.Gotham
    gainedLabel.TextSize = 12
    gainedLabel.Text = "Gained: 0"
    gainedLabel.Parent = statFrame
    
    -- Set icons
    local icons = {
        Strength = "ðŸ’ª",
        Durability = "ðŸ›¡ï¸",
        Rebirths = "ðŸ”„"
    }
    iconLabel.Text = icons[statName]
    
    statLabels[statName] = {
        current = currentLabel,
        gained = gainedLabel
    }
    
    yPosition = yPosition + 45
end

-- Timer label
local timerLabel = Instance.new("TextLabel")
timerLabel.Size = UDim2.new(1, 0, 0, 20)
timerLabel.Position = UDim2.new(0, 0, 0, yPosition)
timerLabel.BackgroundTransparency = 1
timerLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
timerLabel.TextXAlignment = Enum.TextXAlignment.Left
timerLabel.Font = Enum.Font.Gotham
timerLabel.TextSize = 11
timerLabel.Text = "â° Time: 00:00:00"
timerLabel.Parent = statsContainer

-- Reset button
local resetButton = Instance.new("TextButton")
resetButton.Size = UDim2.new(1, -10, 0, 20)
resetButton.Position = UDim2.new(0, 5, 1, -25)
resetButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
resetButton.TextColor3 = Color3.fromRGB(255, 255, 255)
resetButton.Text = "ðŸ”„ RESET GAINS"
resetButton.Font = Enum.Font.Gotham
resetButton.TextSize = 11
resetButton.Parent = mainFrame

-- Update stats function
local function updateAllStats()
    for statName, labels in pairs(statLabels) do
        local currentValue = getStatValue(statName)
        local startValue = startStats[statName] or 0
        local gainedValue = currentValue - startValue
        
        labels.current.Text = "Current: " .. abbreviateNumber(currentValue)
        labels.gained.Text = "Gained: " .. abbreviateNumber(gainedValue)
        
        -- Set gain color
        if gainedValue > 0 then
            labels.gained.TextColor3 = Color3.fromRGB(100, 255, 100) -- Green
        elseif gainedValue < 0 then
            labels.gained.TextColor3 = Color3.fromRGB(255, 100, 100) -- Red
        else
            labels.gained.TextColor3 = Color3.fromRGB(200, 200, 200) -- Gray
        end
    end
    
    -- Update timer
    local elapsedTime = os.time() - startTime
    local hours = math.floor(elapsedTime / 3600)
    local minutes = math.floor((elapsedTime % 3600) / 60)
    local seconds = elapsedTime % 60
    timerLabel.Text = string.format("â° Time: %02d:%02d:%02d", hours, minutes, seconds)
end

-- Reset button
resetButton.MouseButton1Click:Connect(function()
    initializeStartStats()
    updateAllStats()
end)

-- Set starting values
initializeStartStats()

-- Auto update (every 2 seconds)
spawn(function()
    while true do
        updateAllStats()
        wait(2)
    end
end)

-- Do first update immediately
updateAllStats()

print("âœ… Stats Tracker Loaded! - Showing Current & Gained Stats")
print("Start Values - Strength: " .. startStats.Strength .. ", Durability: " .. startStats.Durability .. ", Rebirths: " .. startStats.Rebirths)
